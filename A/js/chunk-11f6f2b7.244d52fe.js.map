{"version":3,"sources":["webpack:///./src/views/Management/Goods/Params.vue?1f85","webpack:///./src/views/Management/Goods/Params.vue?297d","webpack:///src/views/Management/Goods/Params.vue","webpack:///./src/views/Management/Goods/Params.vue?7e44","webpack:///./src/views/Management/Goods/Params.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","categories","cascaderProps","on","handleChange","model","value","callback","$$v","selectedKeys","expression","handleClick","activeName","$event","addAttr","staticStyle","goriesTable","scopedSlots","_u","key","fn","props","_l","row","attr_vals","split","tag","handleClose","_s","inputVisible","attr_id","ref","nativeOn","type","indexOf","_k","keyCode","handleInputConfirm","inputValue","showInput","scope","editMotai","removeMotai","str","editMotal","editformData","editrules","str1","$set","slot","Editsubmit","addMotal","addformData","Addsubmit","staticRenderFns","name","components","data","label","expandTrigger","sel","attr_name","attr_sel","attr_write","cat_id","delete_time","created","mounted","getCategories","activated","update","beforeRouteUpdate","next","methods","tab","getCategoriesTable","id","JSON","parse","stringify","info","console","log","$confirm","confirmButtonText","cancelButtonText","$nextTick","filters","computed","watch","val","component"],"mappings":"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","file":"js/chunk-11f6f2b7.244d52fe.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Params.vue?vue&type=style&index=0&id=1cf0002e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Params.vue?vue&type=style&index=0&id=1cf0002e&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{staticClass:\"wsy-card\"},[_c('div',{staticClass:\"el-card_body\"},[_c('el-alert',{attrs:{\"title\":\"注意：只允许为第三级分类设置相关参数！\",\"type\":\"warning\",\"effect\":\"dark\",\"closable\":false,\"show-icon\":\"\"}}),_c('div',{staticClass:\"cascader-box\"},[_c('span',[_vm._v(\"选择商品分类:\")]),_c('el-cascader',{attrs:{\"options\":_vm.categories,\"props\":_vm.cascaderProps},on:{\"change\":_vm.handleChange},model:{value:(_vm.selectedKeys),callback:function ($$v) {_vm.selectedKeys=$$v},expression:\"selectedKeys\"}}),_c('el-tabs',{attrs:{\"type\":\"border-card\"},on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"动态参数\",\"name\":\"many\"}},[_c('div',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.addAttr()}}},[_vm._v(\"添加参数\")])],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"border\":\"\",\"data\":_vm.goriesTable}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-form',{staticClass:\"demo-table-expand\",attrs:{\"label-position\":\"left\",\"inline\":\"\"}},[_vm._l((props.row.attr_vals.split(',')),function(tag){return _c('el-tag',{key:tag,attrs:{\"closable\":\"\",\"disable-transitions\":false},on:{\"close\":function($event){return _vm.handleClose(props.row)}}},[_vm._v(_vm._s(tag))])}),(_vm.inputVisible == props.row.attr_id)?_c('el-input',{ref:\"saveTagInput\",staticClass:\"input-new-tag\",attrs:{\"size\":\"small\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleInputConfirm(props.row)}},model:{value:(_vm.inputValue),callback:function ($$v) {_vm.inputValue=$$v},expression:\"inputValue\"}}):_c('el-button',{staticClass:\"button-new-tag\",attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.showInput(props.row.attr_id)}}},[_vm._v(\"+ New Tag\")])],2)]}}])}),_c('el-table-column',{attrs:{\"label\":\"#\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"参数名称\",\"prop\":\"attr_name\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.editMotai(scope.row)}}},[_vm._v(\"修改\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.removeMotai(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"静态属性\",\"name\":\"only\"}},[_c('div',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.addAttr()}}},[_vm._v(\"添加属性\")])],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"border\":\"\",\"data\":_vm.goriesTable}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-form',{staticClass:\"demo-table-expand\",attrs:{\"label-position\":\"left\",\"inline\":\"\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"#\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"属性名称\",\"prop\":\"attr_name\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.editMotai(scope.row)}}},[_vm._v(\"修改\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.removeMotai(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1)],1)],1)],1)]),_c('el-dialog',{attrs:{\"title\":_vm.str,\"visible\":_vm.editMotal},on:{\"update:visible\":function($event){_vm.editMotal=$event}}},[_c('el-form',{ref:\"editForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.editformData,\"rules\":_vm.editrules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":_vm.str1,\"prop\":\"attr_name\"}},[_c('el-input',{model:{value:(_vm.editformData.attr_name),callback:function ($$v) {_vm.$set(_vm.editformData, \"attr_name\", $$v)},expression:\"editformData.attr_name\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editMotal = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.Editsubmit()}}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.str,\"visible\":_vm.addMotal},on:{\"update:visible\":function($event){_vm.addMotal=$event}}},[_c('el-form',{ref:\"editForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.addformData,\"rules\":_vm.editrules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":_vm.str1,\"prop\":\"attr_name\"}},[_c('el-input',{model:{value:(_vm.addformData.attr_name),callback:function ($$v) {_vm.$set(_vm.addformData, \"attr_name\", $$v)},expression:\"addformData.attr_name\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addMotal = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.Addsubmit()}}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-card class=\"wsy-card\">\r\n      <div class=\"el-card_body\">\r\n        <el-alert\r\n          title=\"注意：只允许为第三级分类设置相关参数！\"\r\n          type=\"warning\"\r\n          effect=\"dark\"\r\n          :closable=\"false\"\r\n          show-icon\r\n        ></el-alert>\r\n        <div class=\"cascader-box\">\r\n          <span>选择商品分类:</span>\r\n          <el-cascader\r\n            v-model=\"selectedKeys\"\r\n            :options=\"categories\"\r\n            :props=\"cascaderProps\"\r\n            @change=\"handleChange\"\r\n          ></el-cascader>\r\n          <el-tabs v-model=\"activeName\" type=\"border-card\" @tab-click=\"handleClick\">\r\n            <el-tab-pane label=\"动态参数\" name=\"many\">\r\n              <div>\r\n                <el-button type=\"primary\" size=\"mini\" @click=\"addAttr()\">添加参数</el-button>\r\n              </div>\r\n              <el-table border :data=\"goriesTable\" style=\"width: 100%\">\r\n                <el-table-column type=\"expand\">\r\n                  <template slot-scope=\"props\">\r\n                    <el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n                      <el-tag\r\n                        :key=\"tag\"\r\n                        v-for=\"tag in props.row.attr_vals.split(',')\"\r\n                        closable\r\n                        :disable-transitions=\"false\"\r\n                        @close=\"handleClose(props.row)\"\r\n                      >{{tag}}</el-tag>\r\n                      <el-input\r\n                        class=\"input-new-tag\"\r\n                        v-if=\"inputVisible == props.row.attr_id\"\r\n                        v-model=\"inputValue\"\r\n                        ref=\"saveTagInput\"\r\n                        size=\"small\"\r\n                        @keyup.enter.native=\"handleInputConfirm(props.row)\"\r\n                      ></el-input>\r\n                      <el-button\r\n                        v-else\r\n                        class=\"button-new-tag\"\r\n                        size=\"small\"\r\n                        @click=\"showInput(props.row.attr_id)\"\r\n                      >+ New Tag</el-button>\r\n                    </el-form>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"#\" type=\"index\"></el-table-column>\r\n                <el-table-column label=\"参数名称\" prop=\"attr_name\"></el-table-column>\r\n                <el-table-column label=\"操作\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-button\r\n                      size=\"small\"\r\n                      type=\"primary\"\r\n                      icon=\"el-icon-edit\"\r\n                      @click=\"editMotai(scope.row)\"\r\n                    >修改</el-button>\r\n                    <el-button\r\n                      size=\"small\"\r\n                      type=\"danger\"\r\n                      icon=\"el-icon-delete\"\r\n                      @click=\"removeMotai(scope.row)\"\r\n                    >删除</el-button>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"静态属性\" name=\"only\">\r\n              <div>\r\n                <el-button type=\"primary\" size=\"mini\" @click=\"addAttr()\">添加属性</el-button>\r\n              </div>\r\n              <el-table border :data=\"goriesTable\" style=\"width: 100%\">\r\n                <el-table-column type=\"expand\">\r\n                  <template slot-scope=\"props\">\r\n                    <el-form label-position=\"left\" inline class=\"demo-table-expand\"></el-form>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"#\" type=\"index\"></el-table-column>\r\n                <el-table-column label=\"属性名称\" prop=\"attr_name\"></el-table-column>\r\n                <el-table-column label=\"操作\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-button\r\n                      size=\"small\"\r\n                      type=\"primary\"\r\n                      icon=\"el-icon-edit\"\r\n                      @click=\"editMotai(scope.row)\"\r\n                    >修改</el-button>\r\n                    <el-button\r\n                      size=\"small\"\r\n                      type=\"danger\"\r\n                      icon=\"el-icon-delete\"\r\n                      @click=\"removeMotai(scope.row)\"\r\n                    >删除</el-button>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </el-tab-pane>\r\n          </el-tabs>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n\r\n    <!-- 修改参数模态框 -->\r\n    <el-dialog :title=\"str\" :visible.sync=\"editMotal\">\r\n      <el-form\r\n        :model=\"editformData\"\r\n        :rules=\"editrules\"\r\n        ref=\"editForm\"\r\n        label-width=\"100px\"\r\n        class=\"demo-ruleForm\"\r\n      >\r\n        <el-form-item :label=\"str1\" prop=\"attr_name\">\r\n          <el-input v-model=\"editformData.attr_name\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editMotal = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"Editsubmit()\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <!-- 添加参数模态框 -->\r\n    <el-dialog :title=\"str\" :visible.sync=\"addMotal\">\r\n      <el-form\r\n        :model=\"addformData\"\r\n        :rules=\"editrules\"\r\n        ref=\"editForm\"\r\n        label-width=\"100px\"\r\n        class=\"demo-ruleForm\"\r\n      >\r\n        <el-form-item :label=\"str1\" prop=\"attr_name\">\r\n          <el-input v-model=\"addformData.attr_name\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addMotal = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"Addsubmit()\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"\",\r\n  components: {},\r\n  props: {},\r\n  data() {\r\n    return {\r\n      inputVisible: false,\r\n      inputValue: \"\",\r\n      activeName: \"many\",\r\n      goriesTable: [],\r\n      categories: [],\r\n      selectedKeys: [],\r\n      cascaderProps: {\r\n        value: \"cat_id\",\r\n        label: \"cat_name\",\r\n        expandTrigger: \"hover\"\r\n      },\r\n      // 标签页name\r\n      sel: [],\r\n      // 修改动态参数模态框状态\r\n      editMotal: false,\r\n      // 添加动态参数模态框\r\n      addMotal: false,\r\n      editformData: {\r\n        attr_id: 1623,\r\n        attr_name: \"\",\r\n        attr_sel: \"\",\r\n        attr_vals: \"\",\r\n        attr_write: \"\",\r\n        cat_id: 0,\r\n        delete_time: null\r\n      },\r\n      // 添加模态框表单数据\r\n      addformData: {\r\n        attr_name: \"\",\r\n        attr_sel: \"\",\r\n        cat_id: 0\r\n      },\r\n      // 修改参数数据模态框表单验证\r\n      editrules: {\r\n        attr_name: [\r\n          { required: true, message: \"参数名称不能为空\", trigger: \"blur\" }\r\n        ]\r\n      },\r\n      str: \"设置动态参数\",\r\n      str1: \"动态参数\"\r\n    };\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    this.getCategories();\r\n  },\r\n  activated() {},\r\n  update() {},\r\n  beforeRouteUpdate(to, from, next) {\r\n    next();\r\n  },\r\n  methods: {\r\n    handleClick(tab, event) {\r\n      this.sel[0] = tab.name;\r\n      this.handleChange();\r\n    },\r\n    // 获取商品分类数据\r\n    async getCategories() {\r\n      const { data } = await this.$axios.get(\"categories\", {\r\n        params: { type: 3 }\r\n      });\r\n\r\n      this.categories = data.data;\r\n    },\r\n    handleChange() {\r\n      let id = this.selectedKeys[this.selectedKeys.length - 1];\r\n\r\n      let sel = this.sel == \"\" ? this.activeName : this.sel;\r\n      this.getCategoriesTable(id, sel);\r\n    },\r\n    async getCategoriesTable(id, sel) {\r\n      const { data } = await this.$axios.get(`categories/${id}/attributes`, {\r\n        params: {\r\n          sel\r\n        }\r\n      });\r\n      this.goriesTable = data.data;\r\n      console.log(this.goriesTable);\r\n    },\r\n    // 修改参数名称模态框\r\n    editMotai(info) {\r\n      // console.log(info);\r\n      this.editformData = JSON.parse(JSON.stringify(info));\r\n      this.editMotal = true;\r\n    },\r\n    // 点击确定修改参数名称\r\n    async Editsubmit() {\r\n      let sel = this.sel == \"\" ? this.activeName : this.sel;\r\n      const { data } = await this.$axios.put(\r\n        `categories/${this.editformData.cat_id}/attributes/${this.editformData.attr_id}`,\r\n        {\r\n          attr_name: this.editformData.attr_name,\r\n          attr_sel: sel\r\n        }\r\n      );\r\n      if (data.meta.status == 200) {\r\n        this.editMotal = false;\r\n        this.$message({\r\n          message: data.meta.msg,\r\n          type: \"success\"\r\n        });\r\n      } else {\r\n        this.$message({\r\n          message: data.meta.msg,\r\n          type: \"error\"\r\n        });\r\n      }\r\n    },\r\n    // 点击显示提交模态框\r\n    addAttr() {\r\n      this.addMotal = true;\r\n    },\r\n    // 添加动态参数\r\n    async Addsubmit() {\r\n      let sel = this.sel == \"\" ? this.activeName : this.sel;\r\n      const { data } = await this.$axios.post(\r\n        `categories/${this.addformData.cat_id}/attributes`,\r\n        {\r\n          attr_name: this.addformData.attr_name,\r\n          attr_sel: sel\r\n        }\r\n      );\r\n\r\n      if (data.meta.status == 201) {\r\n        let id = this.selectedKeys[this.selectedKeys.length - 1];\r\n\r\n        let sel = this.sel == \"\" ? this.activeName : this.sel;\r\n        this.getCategoriesTable(id, sel);\r\n        this.addMotal = false;\r\n        this.$message({\r\n          message: data.meta.msg,\r\n          type: \"success\"\r\n        });\r\n      } else {\r\n        this.$message({\r\n          message: data.meta.msg,\r\n          type: \"error\"\r\n        });\r\n      }\r\n    },\r\n    // 删除模态框\r\n    removeMotai(info) {\r\n      console.log(info);\r\n      this.$confirm(\"此操作将永久删除该参数, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          this.$axios\r\n            .delete(`categories/${info.cat_id}/attributes/${info.attr_id}`)\r\n            .then(({ data }) => {\r\n              if (data.meta.status == 200) {\r\n                let id = this.selectedKeys[this.selectedKeys.length - 1];\r\n\r\n                let sel = this.sel == \"\" ? this.activeName : this.sel;\r\n                this.getCategoriesTable(id, sel);\r\n\r\n                this.$message({\r\n                  type: \"success\",\r\n                  message: data.meta.msg\r\n                });\r\n              } else {\r\n                this.$message({\r\n                  type: \"error\",\r\n                  message: data.meta.msg\r\n                });\r\n              }\r\n            });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\"\r\n          });\r\n        });\r\n    },\r\n    async handleClose(tag) {\r\n      console.log(tag);\r\n      // const { data } = await this.$axios.delete(\r\n      //   `categories/${tag.cat_id}/attributes/${tag.attr_id}`\r\n      // );\r\n      // console.log(data);\r\n      // if (data.meta.status == 200) {\r\n      //   let id = this.selectedKeys[this.selectedKeys.length - 1];\r\n\r\n      //   let sel = this.sel == \"\" ? this.activeName : this.sel;\r\n      //   this.getCategoriesTable(id, sel);\r\n\r\n      //   this.$message({\r\n      //     type: \"success\",\r\n      //     message: data.meta.msg\r\n      //   });\r\n      // } else {\r\n      //   this.$message({\r\n      //     type: \"error\",\r\n      //     message: data.meta.msg\r\n      //   });\r\n      // }\r\n    },\r\n    showInput(id) {\r\n      this.inputValue = \"\";\r\n\r\n      this.inputVisible = id;\r\n      this.$nextTick(_ => {\r\n        this.$refs.saveTagInput.$refs.input.focus();\r\n      });\r\n    },\r\n    // 添加动态参数\r\n    async handleInputConfirm(row) {\r\n      console.log(row);\r\n      const { data } = await this.$axios.put(\r\n        `categories/${row.cat_id}/attributes/${row.attr_id}`,\r\n        {\r\n          attr_name: row.attr_name,\r\n          attr_sel: this.sel == \"\" ? this.activeName : this.sel,\r\n          attr_vals: row.attr_vals + \",\" + this.inputValue\r\n        }\r\n      );\r\n      console.log(data);\r\n      if (data.meta.status == 200) {\r\n        let id = this.selectedKeys[this.selectedKeys.length - 1];\r\n\r\n        let sel = this.sel == \"\" ? this.activeName : this.sel;\r\n        this.getCategoriesTable(id, sel);\r\n\r\n        this.$message({\r\n          type: \"success\",\r\n          message: data.meta.msg\r\n        });\r\n      } else {\r\n        this.$message({\r\n          type: \"error\",\r\n          message: data.meta.msg\r\n        });\r\n      }\r\n      this.inputVisible = null;\r\n    }\r\n    // removeFun()\r\n  },\r\n  filters: {},\r\n  computed: {},\r\n  watch: {\r\n    activeName(val) {\r\n      if (val == \"only\") {\r\n        this.str = \"添加动态参数\";\r\n        this.str1 = \"动态参数\";\r\n      } else {\r\n        this.str = \"添加静态属性\";\r\n        this.str1 = \"静态属性\";\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n.wsy-card {\r\n  margin-top: 15px;\r\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.15) !important;\r\n  border: 1px solid #ebeef5;\r\n  background-color: #fff;\r\n  color: #303133;\r\n  transition: 0.3s;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n  > .el-card_body {\r\n    padding: 20px;\r\n  }\r\n}\r\n.cascader-box {\r\n  width: 100%;\r\n  margin: 15px 0;\r\n  > span {\r\n    margin-right: 10px;\r\n  }\r\n}\r\n.el-tabs {\r\n  margin-top: 15px;\r\n}\r\n.el-tag {\r\n  margin-right: 10px;\r\n}\r\n.el-table {\r\n  margin-top: 15px;\r\n}\r\n.input-new-tag {\r\n  width: 100px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Params.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Params.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Params.vue?vue&type=template&id=1cf0002e&scoped=true&\"\nimport script from \"./Params.vue?vue&type=script&lang=js&\"\nexport * from \"./Params.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Params.vue?vue&type=style&index=0&id=1cf0002e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1cf0002e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}