(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-376afeda"],{4420:function(s,t,e){},"4c14":function(s,t,e){"use strict";var i=e("4420"),a=e.n(i);a.a},d16d:function(s,t,e){"use strict";e.r(t);var i=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"Login-box"},[s._m(0),e("van-form",[e("div",{staticClass:"wsy_box"},[e("div",{staticClass:"wsy_mobile wsy_input",class:[1==s.wsy_Active?"wsy_active":""]},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.mobile,expression:"mobile"}],attrs:{type:"text",placeholder:"请输入手机号"},domProps:{value:s.mobile},on:{focus:function(t){return s.wsy_inputFcous(1)},blur:function(t){return s.wsy_inputBlur()},input:function(t){t.target.composing||(s.mobile=t.target.value)}}}),e("div",{directives:[{name:"show",rawName:"v-show",value:!s.CAPTCHAFlag,expression:"!CAPTCHAFlag"}],staticClass:"getCAPTCHA",on:{click:function(t){return s.getCAPTCHA()}}},[s._v("获取验证码")]),e("div",{directives:[{name:"show",rawName:"v-show",value:s.CAPTCHAFlag,expression:"CAPTCHAFlag"}],staticClass:"getCAPTCHAA"},[s._v("获取验证码("+s._s(s.wsy_second)+")")]),e("p",{directives:[{name:"show",rawName:"v-show",value:!s.wsy_mobileFlag,expression:"!wsy_mobileFlag"}],staticClass:"wsy_toast"},[s._v("请输入正确的手机号码")])]),e("div",{staticClass:"wsy_pass wsy_input",class:[2==s.wsy_Active?"wsy_active":""]},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.captcha,expression:"captcha"}],attrs:{type:"text",placeholder:"请输入短信验证码"},domProps:{value:s.captcha},on:{focus:function(t){return s.wsy_inputFcous(2)},blur:function(t){return s.wsy_inputBlur()},input:function(t){t.target.composing||(s.captcha=t.target.value)}}}),e("p",{directives:[{name:"show",rawName:"v-show",value:!s.wsy_passFlag,expression:"!wsy_passFlag"}],staticClass:"wsy_toast"},[s._v("请输入验证码")])]),e("div",{staticClass:"wsy-text"},[e("span",[s._v("*未注册的手机号将自动注册")]),e("span",{on:{click:function(t){return s.wsy_toggle()}}},[s._v("使用密码登录")])]),e("div",[e("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit",color:"linear-gradient(to right, rgb(255, 146, 71),rgb(253, 88, 3))"},on:{click:function(t){return s.wsy_Login()}}},[s._v("登录")])],1)])]),e("div")],1)},a=[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"Login-img"},[e("img",{attrs:{src:"https://msmk2019.oss-cn-shanghai.aliyuncs.com/uploads/image/2019pILfAg7Avr1567732916.png"}})])}],o=e("d399"),l={data(){return{mobile:"",captcha:"",wsy_Active:null,wsy_mobileFlag:!0,wsy_passFlag:!0,wsy_flag:!1,CAPTCHAFlag:!1,wsy_second:60}},methods:{wsy_inputFcous(s){this.wsy_Active=s},wsy_inputBlur(){this.wsy_Active=null;let s=/^[1][3,4,5,7,8,9][0-9]{9}$/;s.test(this.mobile)?this.wsy_mobileFlag=!0:this.wsy_mobileFlag=!1,0==this.captcha.length?this.wsy_passFlag=!1:this.wsy_passFlag=!0,this.wsy_mobileFlag&&this.wsy_passFlag&&(this.wsy_flag=!0)},wsy_toggle(){this.$router.push("/wyl-Login")},async getCAPTCHA(){let s=/^[1][3,4,5,7,8,9][0-9]{9}$/;if(!s.test(this.mobile))return this.wsy_mobileFlag=!1,!1;if(this.wsy_mobileFlag=!0,this.wsy_mobileFlag){this.CAPTCHAFlag=!0,setInterval(()=>{this.wsy_second--,0==this.wsy_second&&(this.wsy_second=0,this.CAPTCHAFlag=!this.CAPTCHAFlag)},1e3),this.wsy_second=60;let{data:s}=await this.$http.post("/api/app/smsCode",{mobile:this.mobile,sms_type:"login"});console.log(s),201==s.code?o["a"].fail("请勿重复获取短信验证码"):200==s.code&&o["a"].success("发送成功")}},async wsy_Login(){if(this.wsy_flag){let{data:s}=await this.$http.post("/api/app/login",{mobile:this.mobile,sms_code:this.captcha,client:1,type:2});console.log(s),window.localStorage.setItem("token",JSON.stringify(s.data.remember_token)),1!=s.data.is_new?this.$router.push("/lwh_my"):this.$router.push("/wsySetPass")}}}},n=l,c=(e("4c14"),e("2877")),r=Object(c["a"])(n,i,a,!1,null,"4e204395",null);t["default"]=r.exports}}]);
//# sourceMappingURL=chunk-376afeda.6dd4706f.js.map